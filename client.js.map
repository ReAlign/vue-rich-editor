{"version":3,"sources":["webpack:///./example/App.vue?2c9f","webpack:///./src/vue-rich-editor/index.vue?0fc0","webpack:///./example/App.vue?b745","webpack:///./src/vue-rich-editor/index.vue?2483","webpack:///./example/App.vue?fbc6","webpack:///./src/vue-rich-editor/index.vue?1654","webpack:///./example/index.js","webpack:///./example/config.js","webpack:///App.vue","webpack:///index.vue","webpack:///./src/index.js","webpack:///./src/vue-rich-editor/rewrite/set-style-method/bold.js","webpack:///./src/vue-rich-editor/rewrite/set-style-method/italic.js","webpack:///./src/vue-rich-editor/rewrite/set-style-method/size.js","webpack:///./src/vue-rich-editor/rewrite/set-style-method/underline.js"],"names":["el","render","h","Config","URL","UPLOAD_IMAGE","imageFileName","VEditor","VueRichEditor","install","Vue","component","name","Parchment","Quill","import","BoldStyleAttributor","domNode","value","node","$","css","Attributor","Style","BoldStyle","scope","Scope","INLINE","ItalicStyleAttributor","ItalicStyle","SizeStyle","whitelist","UnderlineStyleAttributor","UnderlineStyle"],"mappings":";;;;;AAAA,yC;;;;;;;ACAA,yC;;;;;;;;ACCA;AACA,uBAAiS;;AAEjS;AACA;AACA;AACA;AACA,yBAAoH;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;AC9BA;AACA,uBAAuS;;AAEvS;AACA;AACA;AACA;AACA,yBAAuH;AACvH;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC/BA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AChDA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;;AAEA,IAAI,oDAAJ,CAAQ;AACNA,MAAI,MADE;AAENC,UAAQ;AAAA,WAAKC,EAAE,gDAAF,CAAL;AAAA;AAFF,CAAR,E;;;;;;;;ACHA;AAAA,IAAIC,SAAS;AACXC,OAAK;AACHC,kBAAc;AADX,GADM;AAIXC,i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","file":"client.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vbuild/~/vue-style-loader!./~/css-loader?-autoprefixer&sourceMap!./~/vbuild/~/vue-loader/lib/style-compiler?{\"id\":\"data-v-7a2f6966\",\"scoped\":false,\"hasInlineConfig\":false}!./~/postcss-loader?sourceMap!./~/sass-loader/lib/loader.js?sourceMap!./~/vbuild/~/vue-loader/lib/selector.js?type=styles&index=0!./example/App.vue\n// module id = 144\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vbuild/~/vue-style-loader!./~/css-loader?-autoprefixer&sourceMap!./~/vbuild/~/vue-loader/lib/style-compiler?{\"id\":\"data-v-ec3d4dce\",\"scoped\":false,\"hasInlineConfig\":false}!./~/postcss-loader?sourceMap!./~/sass-loader/lib/loader.js?sourceMap!./~/vbuild/~/vue-loader/lib/selector.js?type=styles&index=0!./src/vue-rich-editor/index.vue\n// module id = 145\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!../node_modules/vbuild/node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7a2f6966\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader?sourceMap!sass-loader?sourceMap!../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vbuild/node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vbuild/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a2f6966\\\"}!../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/seewater/NOTE/my_github/vue-rich-editor/example/App.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] App.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7a2f6966\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7a2f6966\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/App.vue\n// module id = 152\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!../../node_modules/vbuild/node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-ec3d4dce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader?sourceMap!sass-loader?sourceMap!../../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n\nvar Component = require(\"!../../node_modules/vbuild/node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vbuild/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ec3d4dce\\\"}!../../node_modules/vbuild/node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/seewater/NOTE/my_github/vue-rich-editor/src/vue-rich-editor/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-ec3d4dce\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-ec3d4dce\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/vue-rich-editor/index.vue\n// module id = 153\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"ve-container\"\n  }, [_c('h3', [_vm._v(\"vue rich editor example\")]), _vm._v(\" \"), _c('vue-rich-editor', {\n    attrs: {\n      \"id\": _vm.editorId,\n      \"quillRegisterKeys\": _vm.quillRegisterKeys,\n      \"useCustomImageHandler\": \"\",\n      \"disabled\": _vm.editorIsDisabled\n    },\n    on: {\n      \"imageAdded\": _vm.uploadImage\n    },\n    model: {\n      value: (_vm.editorContent),\n      callback: function($$v) {\n        _vm.editorContent = $$v\n      },\n      expression: \"editorContent\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"ve-button-area\"\n  }, [_c('button', {\n    staticClass: \"ve-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.saveContent(_vm.editorContent)\n      }\n    }\n  }, [_vm._v(\"\\n        save content\\n      \")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"ve-button\",\n    on: {\n      \"click\": function($event) {\n        _vm.setEditor(_vm.setEditorDemo)\n      }\n    }\n  }, [_vm._v(\"\\n        set editor\\n      \")])])], 1)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7a2f6966\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vbuild/~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a2f6966\"}!./~/vbuild/~/vue-loader/lib/selector.js?type=template&index=0!./example/App.vue\n// module id = 154\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"quill-wrapper\"\n  }, [_c('div', {\n    ref: \"quillContainer\",\n    staticClass: \"vre-editor-sign-only\",\n    attrs: {\n      \"id\": _vm.id\n    }\n  }), _vm._v(\" \"), (_vm.useCustomImageHandler) ? _c('input', {\n    ref: \"fileInput\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"id\": \"file-upload\",\n      \"type\": \"file\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.emitImageInfo($event)\n      }\n    }\n  }) : _vm._e()])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-ec3d4dce\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vbuild/~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ec3d4dce\"}!./~/vbuild/~/vue-loader/lib/selector.js?type=template&index=0!./src/vue-rich-editor/index.vue\n// module id = 155\n// module chunks = 1","import Vue from 'vue'\nimport App from './App.vue'\n\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./example/index.js","let Config = {\n  URL: {\n    UPLOAD_IMAGE: 'https://sm.ms/api/upload'\n  },\n  imageFileName: 'smfile'\n};\n\nexport { Config };\n\n\n// WEBPACK FOOTER //\n// ./example/config.js","<template>\n<div id='app'>\n  <div class='ve-container'>\n    <h3>vue rich editor example</h3>\n    <vue-rich-editor\n      :id='editorId'\n      :quillRegisterKeys='quillRegisterKeys'\n      useCustomImageHandler\n      :disabled='editorIsDisabled'\n      v-model='editorContent'\n      @imageAdded='uploadImage' />\n    <div class='ve-button-area'>\n      <button\n        class='ve-button'\n        @click='saveContent(editorContent)'>\n        save content\n      </button>\n\n      <button\n        class='ve-button'\n        @click='setEditor(setEditorDemo)'>\n        set editor\n      </button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { VueRichEditor } from '../src/index.js';\nimport axios from 'axios';\nimport { Config } from './config';\n\nexport default {\n  components: {\n    VueRichEditor\n  },\n  data() {\n    return {\n      editorId: 'editor',\n      editorContent: 'demo string<img src=\"https://olx7tg2rm.qnssl.com/new.png\" />',\n      setEditorDemo: '<h1>hahahah</h1>',\n      editorIsDisabled: false,\n      quillRegisterKeys: ['inline', 'size', 'imageResize']\n    };\n  },\n  methods: {\n    setEditor(str = 'demo') {\n      this.editorContent = str;\n    },\n\n    saveContent(content = '') {\n      console.log(content);\n    },\n\n    uploadImage(file, Editor, cursorLocation) {\n      const self = this;\n      let formData = new FormData();\n      formData.append(Config.imageFileName, file);\n\n      this.editorIsDisabled = true;\n\n      axios({\n        url: Config.URL.UPLOAD_IMAGE,\n        method: 'POST',\n        data: formData\n      })\n        .then(result => {\n          self.editorIsDisabled = false;\n          console.log(result);\n          let url = result.data.data.url;\n          Editor.insertEmbed(cursorLocation, 'image', url);\n        })\n        .catch(err => {\n          self.editorIsDisabled = false;\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n\n<style lang='scss'>\n.ve-container {\n  position: relative;\n  width: calc(100% - 40px);\n  margin: 0 auto;\n  .ve-button-area {\n    margin: 10px 0 0 0;\n    .ve-button {\n      padding: 4px 10px;\n      background: #00a3cf;\n      border: 0;\n      border-radius: 3px;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?7defa70e","<template>\n<div class='quill-wrapper'>\n  <div\n    ref='quillContainer'\n    class='vre-editor-sign-only'\n    :id='id'>\n  </div>\n  <input\n    ref='fileInput'\n    id='file-upload'\n    type='file'\n    style='display:none'\n    v-if='useCustomImageHandler'\n    @change='emitImageInfo($event)' />\n</div>\n</template>\n\n<script>\nimport Quill from 'quill';\nimport $ from 'jquery';\n\nimport MyBold from './rewrite/set-style-method/bold';\nimport MyItalic from './rewrite/set-style-method/italic';\nimport MyUnderline from './rewrite/set-style-method/underline';\nimport MySizeStyle from './rewrite/set-style-method/size';\nimport BlotFormatter from 'n-quill-blot-formatter';\nimport ImageSpec from 'n-quill-blot-formatter/dist/specs/ImageSpec';\nimport ResizeAction from 'n-quill-blot-formatter/dist/actions/ResizeAction';\nimport AlignAction from 'n-quill-blot-formatter/dist/actions/align/AlignAction';\nimport DeleteAction from 'n-quill-blot-formatter/dist/actions/DeleteAction';\n\n// import {\n//   emojiBlot,\n//   emojiBlotTwo,\n//   shortNameEmoji,\n//   toolbarEmoji,\n//   textAreaEmoji\n// } from 'n-quill-emoji';\n\nlet gValue = { value: '', id: '' };\n\nlet defaultToolbar = {\n  container: [\n    [ 'link', 'bold' , 'italic', 'underline' ],\n    [ { color: [] } ],\n    [ { list: 'bullet' }, { list: 'ordered' } ],\n    [ 'image' ],\n    // [ 'emoji' ],\n    [ { size: ['32px', '24px', '18px', '16px', '13px', '12px', false] } ],\n    [ 'clean' ]\n  ],\n  // handlers: {\n  //     'emoji': function () {}\n  // }\n};\n\nlet ENUM_MAP = {\n  inline: [\n    {\n      key: 'formats/bold',\n      value: MyBold\n    },\n    {\n      key: 'formats/italic',\n      value: MyItalic\n    },{\n      key: 'formats/underline',\n      value: MyUnderline\n    }\n  ],\n  size: [\n    {\n      key: 'formats/size',\n      value: MySizeStyle\n    }\n  ],\n  imageResize: [\n    {\n      key: 'modules/blotFormatter',\n      value: BlotFormatter\n    }\n  ]\n};\n\nlet defaultQuillRegisterKeys = [\n  'inline',\n  'size',\n  'imageResize'\n];\n\nclass MyResizeAction extends ResizeAction {\n  onUpdate() {\n    gValue.value = $('#' + gValue.id + ' .ql-editor')[0].innerHTML;\n  }\n}\n\nclass MyImageSpec extends ImageSpec {\n  getActions() {\n    return [\n      MyResizeAction, AlignAction, DeleteAction\n    ];\n  }\n}\n\nexport default {\n  name: 'vue-rich-editor',\n  props: {\n    value: String,\n    id: {\n      type: String,\n      required: true,\n      default: 'quill-container'\n    },\n    disabled: Boolean,\n    editorToolbar: Array,\n    useCustomImageHandler: {\n      type: Boolean,\n      default: false\n    },\n    quillRegisterKeys: {\n      type: Array,\n      default: () => null\n    },\n  },\n\n  data() {\n    return {\n      gValue,\n      quill: null,\n      editor: null,\n      toolbar: this.editorToolbar ? this.editorToolbar : defaultToolbar,\n      placeholder: this.placeholder ? this.placeholder : ''\n    };\n  },\n\n  mounted() {\n    this.initRegisterModules();\n    this.initializeVueRichEditor();\n    this.handleUpdatedEditor();\n  },\n\n  created() {\n    gValue.id = this.id;\n  },\n\n  watch: {\n    value(val) {\n      if (val != this.editor.innerHTML && !this.quill.hasFocus()) {\n        this.editor.innerHTML = val;\n      }\n    },\n    disabled(status) {\n      this.quill.enable(!status);\n    },\n    'gValue.value'(val) {\n      this.$emit('input', val);\n    }\n  },\n\n  methods: {\n    initRegisterModules() {\n      if(!this.quillRegisterKeys || this.quillRegisterKeys && this.quillRegisterKeys.length) {\n        let _keys = this.quillRegisterKeys && this.quillRegisterKeys.length\n                    ? this.quillRegisterKeys\n                    : defaultQuillRegisterKeys;\n        let _modules = {};\n\n        _keys.forEach((item) => {\n          if(ENUM_MAP[item]) {\n            ENUM_MAP[item].forEach((that) => {\n              _modules[that.key] = that.value;\n            });\n          }\n        });\n\n        Quill.register(_modules, true);\n      }\n    },\n\n    initializeVueRichEditor() {\n      this.setQuillElement();\n      this.setEditorElement();\n      this.checkForInitialContent();\n    },\n\n    setQuillElement() {\n      const self = this;\n\n      let _modulesConf = {\n        toolbar: this.toolbar,\n        // toolbar_emoji: true\n      };\n\n      if((this.quillRegisterKeys\n          && this.quillRegisterKeys.length\n          && this.quillRegisterKeys.indexOf('imageResize') != -1)\n        || !this.quillRegisterKeys) {\n        _modulesConf.blotFormatter = {\n          specs: [\n            MyImageSpec,\n          ],\n        };\n      }\n\n      this.quill = new Quill(this.$refs.quillContainer, {\n        bounds: '#' + this.id,\n        modules: _modulesConf,\n        placeholder: this.placeholder,\n        theme: 'snow',\n        readOnly: this.disabled ? this.disabled : false\n      });\n\n      this.checkForCustomImageHandler();\n    },\n\n    setEditorElement() {\n      this.editor = document.querySelector(`#${this.id} .ql-editor`);\n    },\n\n    checkForInitialContent() {\n      this.editor.innerHTML = this.value || '';\n    },\n\n    checkForCustomImageHandler() {\n      this.useCustomImageHandler === true ? this.setupCustomImageHandler() : '';\n    },\n\n    setupCustomImageHandler() {\n      let toolbar = this.quill.getModule('toolbar');\n      toolbar.addHandler('image', this.customImageHandler);\n    },\n\n    handleUpdatedEditor() {\n      this.quill.on('text-change', () => {\n        this.$emit('input', this.editor.innerHTML);\n      });\n    },\n\n    customImageHandler(image, callback) {\n      this.$refs.fileInput.click();\n    },\n\n    emitImageInfo($event) {\n      let file = $event.target.files[0];\n      let Editor = this.quill;\n      let range = Editor.getSelection();\n      let cursorLocation = range.index;\n      this.$emit('imageAdded', file, Editor, cursorLocation);\n    }\n  }\n};\n</script>\n\n<style lang='scss'>\n@import './../../node_modules/quill/dist/quill.core.css';\n@import './../../node_modules/quill/dist/quill.snow.css';\n// @import './../../node_modules/n-quill-emoji/dist/n-quill-emoji.css';\n.ql-editor {\n  min-height: 200px;\n  font-size: 14px;\n}\n\n.quill-wrapper {\n  line-height: 26px;\n  .ql-disabled {\n    cursor: not-allowed;\n    user-select: none;\n  }\n  .ql-editor ul {\n    &[data-checked='true'] > li::before,\n    &[data-checked='false'] > li::before {\n      font-size: 14px;\n      vertical-align: baseline;\n      bottom: 0;\n      font-weight: 900;\n      color: #222;\n    }\n  }\n\n  .ql-snow.ql-toolbar {\n    padding-top: 8px;\n    padding-bottom: 4px;\n    line-height: 26px;\n    button {\n      // margin: 1px;\n      svg {\n        width: 18px;\n        height: 18px;\n      }\n    }\n    .ql-formats {\n      border: 1px solid #ccc;\n      margin-bottom: 4px;\n      button {\n        margin: 0;\n      }\n      button:not(:last-child) {\n        border-right: 1px solid #ccc;\n      }\n    }\n  }\n\n  .ql-snow {\n    .ql-picker.ql-size {\n      height: 24px;\n      line-height: 24px;\n    }\n    .ql-thin, .ql-stroke.ql-thin {\n      stroke-width: 1px !important;\n    }\n    .ql-stroke {\n      stroke: rgba(63, 63, 63, 0.95);\n      stroke-linecap: square;\n      stroke-linejoin: initial;\n      stroke-width: 1.7px;\n    }\n\n    .ql-active .ql-stroke {\n      stroke-width: 2.25px;\n    }\n\n    .ql-picker.ql-size {\n      .ql-picker-label[data-value='12px']::before,\n      .ql-picker-item[data-value='12px']::before {\n        content: '12px';\n        font-size: 12px;\n      }\n\n      .ql-picker-label[data-value='13px']::before,\n      .ql-picker-item[data-value='13px']::before {\n        content: '13px';\n        font-size: 13px;\n      }\n\n      .ql-picker-label[data-value='16px']::before,\n      .ql-picker-item[data-value='16px']::before {\n        content: '16px';\n        font-size: 14px;\n      }\n\n      .ql-picker-label[data-value='18px']::before,\n      .ql-picker-item[data-value='18px']::before {\n        content: '18px';\n        font-size: 15px;\n      }\n\n      .ql-picker-label[data-value='24px']::before,\n      .ql-picker-item[data-value='24px']::before {\n        content: '24px';\n        font-size: 16px;\n      }\n\n      .ql-picker-label[data-value='32px']::before,\n      .ql-picker-item[data-value='32px']::before {\n        content: '32px';\n        font-size: 18px;\n      }\n\n      //默认的样式\n      .ql-picker-label::before,\n      .ql-picker-item::before {\n        content: '正常';\n        font-size: 14px;\n      }\n    }\n\n    .ql-tooltip[data-mode='link']::before {\n      content: '输入链接:';\n    }\n\n    .ql-tooltip::before {\n      content: '访问链接:';\n    }\n\n    .ql-tooltip.ql-editing a.ql-action::after {\n      content: '保存';\n    }\n\n    .ql-tooltip {\n      a.ql-action::after {\n        content: '编辑';\n      }\n      a.ql-remove::before {\n        content: '移除';\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// index.vue?214932ce","import VueRichEditor from './vue-rich-editor/index.vue';\n\nconst VEditor = {\n  VueRichEditor,\n  install: function(Vue) {\n    Vue.component(VueRichEditor.name, VueRichEditor)\n  }\n};\n\nexport default VEditor;\nexport { VueRichEditor };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Quill from 'quill';\nimport $ from 'jquery';\n\nlet Parchment = Quill.import('parchment');\n\nclass BoldStyleAttributor extends Parchment.Attributor.Style {\n  value(domNode) {\n    let value = super.value(domNode);\n    return value;\n  }\n\n  add(node, value) {\n    $(node).css('font-weight', 'bold');\n    return true;\n  }\n\n  remove(node) {\n    $(node).css('font-weight', 'normal');\n  }\n}\n\nlet BoldStyle = new BoldStyleAttributor('bold', 'font-weight', {\n  scope: Parchment.Scope.INLINE\n});\n\nexport default BoldStyle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue-rich-editor/rewrite/set-style-method/bold.js","import Quill from 'quill';\nimport $ from 'jquery';\n\nlet Parchment = Quill.import('parchment');\n\nclass ItalicStyleAttributor extends Parchment.Attributor.Style {\n  value(domNode) {\n    let value = super.value(domNode);\n    return value;\n  }\n\n  add(node, value) {\n    $(node).css('font-style', 'italic');\n    return true;\n  }\n  remove(node) {\n    $(node).css('font-style', 'normal');\n  }\n}\n\nlet ItalicStyle = new ItalicStyleAttributor('italic', 'font-style', {\n  scope: Parchment.Scope.INLINE\n});\n\nexport default ItalicStyle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue-rich-editor/rewrite/set-style-method/italic.js","import Quill from 'quill';\n\nlet SizeStyle = Quill.import('attributors/style/size');\nSizeStyle.whitelist = ['32px', '24px', '18px', '16px', '13px', '12px', false];\n\nexport default SizeStyle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue-rich-editor/rewrite/set-style-method/size.js","import Quill from 'quill';\nimport $ from 'jquery';\n\nlet Parchment = Quill.import('parchment');\n\nclass UnderlineStyleAttributor extends Parchment.Attributor.Style {\n  value(domNode) {\n    let value = super.value(domNode);\n    return value;\n  }\n\n  add(node, value) {\n    $(node).css('text-decoration', 'underline');\n    return true;\n  }\n  remove(node) {\n    $(node).css('text-decoration', 'none');\n  }\n}\n\nlet UnderlineStyle = new UnderlineStyleAttributor('underline', 'text-decoration', {\n  scope: Parchment.Scope.INLINE\n});\n\nexport default UnderlineStyle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue-rich-editor/rewrite/set-style-method/underline.js"],"sourceRoot":""}